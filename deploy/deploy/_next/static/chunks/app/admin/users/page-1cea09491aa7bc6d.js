(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{6304:function(e,s,t){Promise.resolve().then(t.bind(t,3288))},3288:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var r=t(7437),a=t(2265),l=t(1038),i=t(2369),c=t(9763);let d=(0,c.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),n=(0,c.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),x=(0,c.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var o=t(3247);let m=(0,c.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var h=t(9345),u=t(1047);let g=(0,c.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var p=()=>{let[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(!0),[p,y]=(0,a.useState)(""),[f,j]=(0,a.useState)("all"),[v,N]=(0,a.useState)("all"),[b,w]=(0,a.useState)(1),[k,A]=(0,a.useState)(1);(0,a.useEffect)(()=>{Z()},[b,f,v,p]);let Z=async()=>{c(!0);try{setTimeout(()=>{let e=[{_id:"1",name:"John Doe",email:"john@example.com",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",provider:"credentials",role:"user",isActive:!0,emailVerified:new Date,createdAt:"2024-01-15T10:00:00Z"},{_id:"2",name:"张三",email:"zhang@example.com",provider:"facebook",role:"user",isActive:!0,emailVerified:new Date,createdAt:"2024-01-14T15:30:00Z"},{_id:"3",name:"Sarah Chen",email:"sarah@discoverchina.com",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",provider:"credentials",role:"admin",isActive:!0,emailVerified:new Date,createdAt:"2024-01-01T09:00:00Z"},{_id:"4",name:"Mike Wilson",email:"mike@example.com",provider:"twitter",role:"user",isActive:!1,createdAt:"2024-01-13T12:15:00Z"}];p&&(e=e.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())||e.email.toLowerCase().includes(p.toLowerCase()))),"all"!==f&&(e=e.filter(e=>e.role===f)),"all"!==v&&(e=e.filter(e=>"active"===v?e.isActive:!e.isActive)),s(e),A(Math.ceil(e.length/10)),c(!1)},500)}catch(e){console.error("Error fetching users:",e),c(!1)}},C=async(t,r)=>{try{s(e.map(e=>e._id===t?{...e,isActive:!r}:e)),alert("User ".concat(r?"deactivated":"activated"," successfully!"))}catch(e){console.error("Error updating user status:",e),alert("Error updating user status")}},_=async(t,r)=>{if(confirm("Are you sure you want to change this user's role to ".concat(r,"?")))try{s(e.map(e=>e._id===t?{...e,role:r}:e)),alert("User role changed to ".concat(r," successfully!"))}catch(e){console.error("Error changing user role:",e),alert("Error changing user role")}};return(0,r.jsx)(l.Z,{title:"Users Management",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Users Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage registered users and their permissions"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-4 w-4 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"1,247"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(d,{className:"h-4 w-4 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"1,198"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(n,{className:"h-4 w-4 text-red-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Users"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"49"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(x,{className:"h-4 w-4 text-purple-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"3"})]})]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search users...",value:p,onChange:e=>y(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,r.jsxs)("select",{value:f,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[(0,r.jsx)("option",{value:"all",children:"All Roles"}),(0,r.jsx)("option",{value:"user",children:"Users"}),(0,r.jsx)("option",{value:"admin",children:"Admins"})]}),(0,r.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,r.jsx)("button",{onClick:()=>{y(""),j("all"),N("all"),w(1)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Reset Filters"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:t?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[e.image?(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-10 h-10 rounded-full"}):(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[e.emailVerified?(0,r.jsx)(d,{className:"h-3 w-3 text-green-500"}):(0,r.jsx)(m,{className:"h-3 w-3 text-yellow-500"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.emailVerified?"Verified":"Unverified"})]})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),e.email]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 capitalize",children:e.provider})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("select",{value:e.role,onChange:s=>_(e._id,s.target.value),className:"text-xs font-semibold px-2 py-1 rounded-full border-0 ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:[(0,r.jsx)("option",{value:"user",children:"User"}),(0,r.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("button",{onClick:()=>C(e._id,e.isActive),className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 text-gray-400 mr-1"}),new Date(e.createdAt).toLocaleDateString()]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsx)("div",{className:"relative inline-block text-left",children:(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(g,{className:"h-4 w-4"})})})})]},e._id))})]})})})]})})}},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},9345:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[605,38,971,117,744],function(){return e(e.s=6304)}),_N_E=e.O()}]);