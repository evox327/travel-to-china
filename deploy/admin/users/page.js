(()=>{var e={};e.id=674,e.ids=[674],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},56315:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>n}),r(89049),r(88242),r(35866);var t=r(23191),a=r(88716),l=r(37922),i=r.n(l),d=r(95231),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);r.d(s,c);let n=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89049)),"/Users/luxiang/Cursor/AI-project/travel-to-china/app/admin/users/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,88242)),"/Users/luxiang/Cursor/AI-project/travel-to-china/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/luxiang/Cursor/AI-project/travel-to-china/app/admin/users/page.tsx"],x="/admin/users/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},71745:(e,s,r)=>{Promise.resolve().then(r.bind(r,93900))},93900:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var t=r(10326),a=r(17577),l=r(9223),i=r(79635),d=r(76557);let c=(0,d.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),n=(0,d.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),o=(0,d.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var x=r(88307);let m=(0,d.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var h=r(5932),u=r(37358);let p=(0,d.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),g=()=>{let[e,s]=(0,a.useState)([]),[r,d]=(0,a.useState)(!0),[g,y]=(0,a.useState)(""),[v,j]=(0,a.useState)("all"),[f,b]=(0,a.useState)("all"),[N,w]=(0,a.useState)(1),[k,A]=(0,a.useState)(1);(0,a.useEffect)(()=>{_()},[N,v,f,g]);let _=async()=>{d(!0);try{setTimeout(()=>{let e=[{_id:"1",name:"John Doe",email:"john@example.com",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",provider:"credentials",role:"user",isActive:!0,emailVerified:new Date,createdAt:"2024-01-15T10:00:00Z"},{_id:"2",name:"张三",email:"zhang@example.com",provider:"facebook",role:"user",isActive:!0,emailVerified:new Date,createdAt:"2024-01-14T15:30:00Z"},{_id:"3",name:"Sarah Chen",email:"sarah@discoverchina.com",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",provider:"credentials",role:"admin",isActive:!0,emailVerified:new Date,createdAt:"2024-01-01T09:00:00Z"},{_id:"4",name:"Mike Wilson",email:"mike@example.com",provider:"twitter",role:"user",isActive:!1,createdAt:"2024-01-13T12:15:00Z"}];g&&(e=e.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.email.toLowerCase().includes(g.toLowerCase()))),"all"!==v&&(e=e.filter(e=>e.role===v)),"all"!==f&&(e=e.filter(e=>"active"===f?e.isActive:!e.isActive)),s(e),A(Math.ceil(e.length/10)),d(!1)},500)}catch(e){console.error("Error fetching users:",e),d(!1)}},Z=async(r,t)=>{try{s(e.map(e=>e._id===r?{...e,isActive:!t}:e)),alert(`User ${t?"deactivated":"activated"} successfully!`)}catch(e){console.error("Error updating user status:",e),alert("Error updating user status")}},C=async(r,t)=>{if(confirm(`Are you sure you want to change this user's role to ${t}?`))try{s(e.map(e=>e._id===r?{...e,role:t}:e)),alert(`User role changed to ${t} successfully!`)}catch(e){console.error("Error changing user role:",e),alert("Error changing user role")}};return t.jsx(l.Z,{title:"Users Management",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Users Management"}),t.jsx("p",{className:"text-gray-600",children:"Manage registered users and their permissions"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(i.Z,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1,247"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(c,{className:"h-4 w-4 text-green-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1,198"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx(n,{className:"h-4 w-4 text-red-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Users"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"49"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(o,{className:"h-4 w-4 text-purple-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"3"})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search users...",value:g,onChange:e=>y(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,t.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"user",children:"Users"}),t.jsx("option",{value:"admin",children:"Admins"})]}),(0,t.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]}),t.jsx("button",{onClick:()=>{y(""),j("all"),b("all"),w(1)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Reset Filters"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[e.image?t.jsx("img",{src:e.image,alt:e.name,className:"w-10 h-10 rounded-full"}):t.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:t.jsx(i.Z,{className:"h-5 w-5 text-gray-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[e.emailVerified?t.jsx(c,{className:"h-3 w-3 text-green-500"}):t.jsx(m,{className:"h-3 w-3 text-yellow-500"}),t.jsx("span",{className:"text-xs text-gray-500",children:e.emailVerified?"Verified":"Unverified"})]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[t.jsx(h.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),e.email]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 capitalize",children:e.provider})}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("select",{value:e.role,onChange:s=>C(e._id,s.target.value),className:`text-xs font-semibold px-2 py-1 rounded-full border-0 ${"admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>Z(e._id,e.isActive),className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.isActive?"Active":"Inactive"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(u.Z,{className:"h-4 w-4 text-gray-400 mr-1"}),new Date(e.createdAt).toLocaleDateString()]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("div",{className:"relative inline-block text-left",children:t.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:t.jsx(p,{className:"h-4 w-4"})})})})]},e._id))})]})})})]})})}},37358:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5932:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},79635:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},89049:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`/Users/luxiang/Cursor/AI-project/travel-to-china/app/admin/users/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[276,114,684],()=>r(56315));module.exports=t})();